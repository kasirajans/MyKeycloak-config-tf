# MFA Authentication Flow Configuration
---
realm: idp-customer
enabled: true
loginWithEmailAllowed: true
registrationAllowed: true
resetPasswordAllowed: true
editUsernameAllowed: true
browserFlow: mfa-browser

requiredActions:
  - alias: webauthn-register-passwordless
    enabled: true
    defaultAction: false
    priority: 10

authenticationFlows:
  - alias: mfa-browser
    description: Custom browser flow with MFA (WebAuthn)
    providerId: basic-flow
    executions:
      - authenticator: auth-username-password-form
        requirement: REQUIRED
        priority: 0
      - authenticator: webauthn-authenticator
        requirement: REQUIRED
        priority: 1
  
  # Example: Add a new OTP-based flow
  - alias: mfa-otp-browser
    description: Browser flow with OTP (One-Time Password)
    providerId: basic-flow
    executions:
      - authenticator: auth-username-password-form
        requirement: REQUIRED
        priority: 0
      - authenticator: auth-otp-form
        requirement: REQUIRED
        priority: 1